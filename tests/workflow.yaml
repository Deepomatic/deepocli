version: 1.2
workflow_name: test

workflow:
  entries:
    - name: test_image
      data_type: Image

  outcomes:
    - name: number_of_b
      output_of: b_counter
      concept:
        name: b_count
        type: Number

  steps:
    - name: detector_a
      type: Inference
      inputs:
        - test_image
      args:
        model_id: 80158
        concepts:
          - a

    - name: detector_b
      type: Inference
      inputs:
        - test_image
      args:
        model_id: 80157
        concepts:
          - b

    - name: b_counter
      type: Counter
      inputs:
        - detector_b
      args:
        entry: test_image
        concept_name: b
